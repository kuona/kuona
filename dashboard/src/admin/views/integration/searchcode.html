<div class="wrapper wrapper-content" ng-controller="NewSearchCodeServerController">
  <div class="row">
    <div class="col-lg-12">
      <div class="text-center m-t-lg">
        <h1>
          Add Searchcode searver for searching of source code
        </h1>
      </div>
    </div>
  </div>

  <div class="row">
    <p>The API is disabled or calls are set to be unauthenticated.

      To enable the API and authenticated calls please do the following

      Change api_enabled to true in the searchcode.properties file
      Change api_key_authentication to true in the searchcode.properties file</p>
    <p>Once enabled generate a key for Kuona and enter the public key below</p>
  </div>


  <div class="row">
    <div class="ibox-content">
      <form class="form-horizontal">

        <div class="form-group">
          <label class="col-sm-2 control-label">Server URL</label>
          <div class="col-sm-10">
            <input type="text" ng-model="server_url" class="form-control" placeholder="{{ server_url_placeholder }}"></div>
        </div>

        <div class="hr-line-dashed"></div>

        <label class="col-sm-12">Credentials</label>

        <div class="form-group">
          <label class="col-sm-2 control-label">Public Key</label>
          <div class="col-sm-10">
            <input type="text" ng-model="api_key.public" class="form-control" placeholder="APIK-"></div>
        </div>

        <div class="form-group">
          <label class="col-sm-2 control-label">Private Key</label>
          <div class="col-sm-10">
            <input type="text" ng-model="api_key.private" class="form-control" placeholder="private key"></div>
        </div>

        <div class="hr-line-dashed"></div>

        <div class="form-group">
          <div class="col-sm-4 col-sm-offset-2">
            <button class="btn btn-primary" type="submit" ng-click="testSearchCodeServer()">Test</button>
            <button class="btn btn-primary" type="submit" ng-click="addSearchCodeServer()">Add</button>
          </div>
          <div class="col-sm-4 col-sm-offset-2">
          </div>
        </div>
      </form>
    </div>
  </div>

  <div class="row" ng-if="api_response">
    <div class="col-lg-12">
      <div class="jumbotron" ng-if="api_response.sucessful">
        <h1 class="text-primary"><i class="fa fa-search"></i> Searchcode server available</h1>
        <p>Click add to save settings.</p>
      </div>
      <div class="jumbotron" ng-if="!api_response.sucessful">
        <h1 class="text-danger"><i class="fa fa-search"></i> Searchcode connection failed</h1>
      </div>
    </div>
  </div>
</div>
