<!DOCTYPE html>
<html ng-app="kuona.repositories">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Page title set in pageTitle directive -->
  <title page-title>Repositories</title>

  <!-- Font awesome -->
  <link href="/font-awesome/css/fontawesome-all.css" rel="stylesheet">

  <!-- Bootstrap and Fonts -->
  <link href="/css/bootstrap.min.css" rel="stylesheet">

  <!-- Main Inspinia CSS files -->
  <link href="/css/animate.css" rel="stylesheet">
  <link id="loadBefore" href="/css/dashboard.css" rel="stylesheet">
</head>

<body ng-controller="RepositoriesController as controller" class="top-navigation pace-done">
<div id="wrapper">
  <div id="page-wrapper" class="{{$state.current.name}}">
    <div ng-include="'/views/common/navigation.html'"></div>
    <div class="wrapper wrapper-content">
      <div class="container-fluid">
        <div class="row">
          <div class="col-sm-12">
            <div class="widget no-padding"><div class="ibox float-e-margins">
              <div class="ibox-content">
                <h2>Search the repository store</h2>
                <form class="form">
                  <div class="form-group">
                    <input placeholder="search text" class="form-control" ng-model="repoterm" ng-change="repoSearch(repoterm)">
                  </div>
                </form>

                <div class="table-responsive">
                  <table class="table">
                    <thead>
                    <tr>
                      <th>Project</th>
                      <th align="right">Stats</th>
                    </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="i in repositoriesFound.items" class="search-result">

                      <td>
                        <h4>{{i.project.name}}</h4>
                        <p ng-if="i.project.created_at">{{ i.project.created_at | age }}</p>

                        <img alt="image" class="img-circle img-sm" ng-src="{{i.project.owner.avatar_url}}" ng-if="i.project.owner.avatar_url">

                        <a href="/snapshot/snapshot.html?id={{i.id}}"><i class="fa fa-bar-chart" aria-hidden="true"></i>&nbsp;Snapshot&nbsp;</a>

                        <a href="{{i.project.html_url}}" ng-if="i.project.html_url">&vert;&nbsp;<i class="fas fa-link" aria-hidden="true"></i>&nbsp;Project</a>

                        <p class="text-muted">{{i.project.description}}</p>

                        <p ng-if="i.project.updated_at">Last update {{ i.project.updated_at | age }} | Last Analysed {{ i.last_analysed | age }}</p>
                      </td>
                      <td align="right" class="stats">{{i.project.watchers | number}}&nbsp;watchers<br/>
                        {{i.project.open_issues_count | number}} open issues<br/>
                        {{i.project.forks | number}} forks<br/>
                        {{i.project.size | number}} kb
                      </td>
                    </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div></div>

          </div>
        </div>
      </div>
    </div>
    <div ng-include="'/views/common/footer.html'"></div>
  </div>
</div>
<!-- jQuery and Bootstrap -->
<script src="/js/jquery/jquery-2.1.1.min.js"></script>
<script src="/js/plugins/jquery-ui/jquery-ui.js"></script>
<script src="/js/bootstrap/bootstrap.min.js"></script>

<!-- MetsiMenu -->
<script src="/js/plugins/metisMenu/jquery.metisMenu.js"></script>

<!-- SlimScroll -->
<script src="/js/plugins/slimscroll/jquery.slimscroll.min.js"></script>

<!-- Custom and plugin javascript -->
<script src="/js/inspinia.js"></script>

<!-- Main Angular scripts-->
<script src="/js/angular/angular.js"></script>
<script src="/js/angular/angular-websocket.js"></script>
<script src="/js/plugins/oclazyload/dist/ocLazyLoad.min.js"></script>
<script src="/js/ui-router/angular-ui-router.min.js"></script>
<script src="/js/bootstrap/ui-bootstrap-tpls-1.1.2.min.js"></script>
<script src="/js/angular/angular-resource.min.js"></script>

<script src="/js/d3.js"></script>
<script src="/js/d3pie.min.js"></script>
<script src="/js/plugins/chartjs/Chart.min.js"></script>

<script src="/js/charts.js"></script>
<script src="/js/filters.js"></script>
<script src="/js/repositories.js"></script>

</body>
</html>
